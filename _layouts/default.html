<!DOCTYPE html>

<html lang="{{ site.lang | default: 'en-US' }}">
{% include head.html %}
<script src="../assets/js/module.js"></script>
<script src="\assets\js\vendor\jquery-3.4.1.min.js"></script>
<script src="/assets/js/shareable-links.js"></script>

<style>
  h1, h2, h3, h4, h5 {
    display: flex;
    align-items: center;
  }
  .shareable-link {
    cursor: pointer;
    margin-left: 0.3rem;
    padding: 0;
    border: none;
    background-color: default;
    box-shadow: none;
    font-size: 0.6em;
  }
  .shareable-link:hover {
    border: none;
    background-color: default;
    box-shadow: none;
  }
</style>

{% assign parent = page.parent %}
{% assign pages_list = site.html_pages | sort:"nav_order" %}
{% assign previous_page = null %}
{% assign next_page = null %}
{% assign current_page = false %}

{% for single_page in pages_list %}
  {% if single_page.parent == parent %}
    {% if single_page.title == page.title %}
      {% assign current_page = true %}
    {% elsif current_page %}
      {% if page.has_children == null %}
        {% assign next_page = single_page.url %}
      {% endif %}
      {% break %}
    {% else %}
      {% assign previous_page = single_page.url %}
    {% endif %}
  {% elsif single_page.parent == page.title %}
    {% if single_page.nav_order == 1 %}
      {% assign next_page = single_page.url %}
    {% endif %}
  {% endif %}
{% endfor %}

{% assign current_page = false %}
{% if next_page == null or previous_page == null %}
  {% if page.parent != null %}
    {% for single_page in pages_list %}
      {% if single_page.title == page.parent %}
        {% assign current_page = true %}
        {% if previous_page == null %}
          {% assign previous_page = single_page.url %}
        {% endif %}
      {% elsif current_page %}
        {% if next_page == null %}
          {% assign next_page = single_page.url %}
        {% endif %}
        {% break %}
      {% endif %}
    {% endfor %}
  {% endif %}
{% endif %}

{% if page.nav_order == 1 and page.parent == null %}
  {% assign previous_page = null %}
{% endif %}

<body>
    <div class="page-wrap">
      <div class="side-bar" id="sidebar">
        <a href="https://circuitverse.org/" class="site-title fs-6 lh-tight"
          >{{ site.title }}</a
        >
        <span class="fs-3"
          ><button
            class="js-main-nav-trigger navigation-list-toggle btn btn-outline"
            type="button"
            data-text-toggle="Hide"
          >
            Menu
          </button></span
        >
        <div class="navigation main-nav js-main-nav">
          {% include nav.html %}
        </div>
        <footer role="contentinfo" class="site-footer"></footer>
      </div>
      <div class="main-content-wrap js-main-content" tabindex="0">
        <div class="page-header">
          <div id="headerid" class="main-content main-content-header">
            {% if site.search_enabled != nil %}
            <div class="search js-search">
              <div class="search-input-wrap">
                <input
                  type="text"
                  class="js-search-input search-input"
                  tabindex="0"
                  placeholder="Search {{ site.title }}"
                  aria-label="Search {{ site.title }}"
                  autocomplete="off"
                />
                <svg
                  width="14"
                  height="14"
                  viewBox="0 0 28 28"
                  xmlns="http://www.w3.org/2000/svg"
                  class="search-icon"
                >
                  <title>Search</title>
                  <g fill-rule="nonzero">
                    <path
                      d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"
                    />
                    <path
                      d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"
                    />
                  </g>
                </svg>
              </div>
              <div class="js-search-results search-results-wrap"></div>
            </div>
            {% endif %} {% if site.aux_links != nil %}
            <ul
              class="list-style-none text-small mt-md-1 mb-md-1 pb-4 pb-md-0 js-aux-nav aux-nav"
            >
              <li
                class="d-inline-block my-0{% unless forloop.last %} mr-2{% endunless %} btn js-toggle-dark-mode"
              >
                <a id="text-change">Dark Mode</a>
              </li>
              <li
                class="d-inline-block my-0{% unless forloop.last %} mr-2{% endunless %} btn"
              >
                <a
                  href="{{ site.github.repository_url }}/tree/master/{{ page.path }}"
                  >Edit on Github</a
                >
              </li>
            </ul>
            <script>
              const toggleDarkMode = document.querySelector(
                ".js-toggle-dark-mode"
              );
              const cssFile = document.querySelector('[rel="stylesheet"]');
              const originalCssRef = cssFile.getAttribute("href");
              const darkModeCssRef = originalCssRef.replace(
                "just-the-docs.css",
                "dark-mode-preview.css"
              );
              var isDarkMode = localStorage.getItem("userTheme");
              var buttonText = "Dark mode"; // Default
              var buttonTextReturn = "Light mode"; // on click
              // var buttonA = document.q;
              if (isDarkMode == 0 || isDarkMode == null) {
                isDarkMode = 0;
                localStorage.setItem("userTheme", "0");
                cssFile.setAttribute("href", originalCssRef);
              } else if (isDarkMode == 1) {
                cssFile.setAttribute("href", darkModeCssRef);
              }

              addEvent(toggleDarkMode, "click", function () {
                isDarkMode = localStorage.getItem("userTheme");
                if (isDarkMode == 0) {
                  // buttonA.setAttribute('a', buttonTextReturn);
                  $("#text-change").text(buttonTextReturn);
                  cssFile.setAttribute("href", darkModeCssRef);
                  localStorage.setItem("userTheme", "1");
                } else if (isDarkMode == 1) {
                  $("#text-change").text(buttonText);
                  // buttonA.setAttribute('a', buttonText);
                  cssFile.setAttribute("href", originalCssRef);
                  localStorage.setItem("userTheme", "0");
                }
              });
            </script>
            {% endif %}
          </div>
        </div>
        <div id="mainhome" class="main-content">
          <div id="content">
            <nav class="navbar navbar-expand-lg navbar-light bg-light container-fluid">
                <button type="button" id="sidebarCollapse" class="btn btn-info new">
                  <i class="fas fa-align-left"></i>
                  <span>Sidebar</span>
                </button>
                <div class="prev-next-controls">
                  {% if previous_page != null %}
                    <a href="{{ previous_page }}" class="btn btn-info">Previous</a>
                  {% endif %}
                  {% if next_page != null %}
                    <a href="{{ next_page }}" class="btn btn-info">Next</a>
                  {% endif %}
              </div>
            </nav>
          </div>
          {% unless page.url == "/" %} {% if page.parent %}
            <nav id="breadcrumb-nav" class="breadcrumb-nav">
              <ol class="breadcrumb-nav-list">
                {% if page.grand_parent %}
                <li class="breadcrumb-nav-list-item">
                  <a href="{{ first_level_url }}">{{ page.grand_parent }}</a>
                </li>
                <li class="breadcrumb-nav-list-item">
                  <a href="{{ second_level_url }}">{{ page.parent }}</a>
                </li>
                {% else %}
                <li class="breadcrumb-nav-list-item">
                  <a href="{{ first_level_url }}">{{ page.parent }}</a>
                </li>
                {% endif %}
                <li class="breadcrumb-nav-list-item">
                  <span>{{ page.title }}</span>
                </li>
              </ol>
            </nav>
          {% endif %} {% endunless %}
            <div id="main-content" class="page-content" role="main">
              {{ content }} 
              
              <div class="prev-next-controls">
                {% if previous_page != null %}
                  <a href="{{ previous_page }}" class="btn btn-info">Previous</a>
                {% endif %}
                {% if next_page != null %}
                  <a href="{{ next_page }}" class="btn btn-info">Next</a>
                {% endif %}
              </div>
              
              {% if page.has_children == true and page.has_toc == true %}
                <hr />
                <h2 class="text-delta">Table of contents</h2>
                {% assign children_list = site.pages | sort:"nav_order" %}
                <ul>
                  {% for child in children_list %} {% if child.parent == page.title
                  and child.title != page.title %}
                    <li>
                      <a href="{{ child.url | absolute_url }}">{{ child.title }}</a>
                    </li>
                  {% endif %} {% endfor %}
                </ul>
              {% endif %}
              {% include disqus.html %}
            </div>
          <br />
        </div>
      </div>
    </div>
    <script>
      $(document).ready(function () {
        function myFunction(x) {
          if (x.matches) {
            $("#sidebar").removeClass("active");
          } else {
            if ($("#sidebarCollapse").hasClass("colored")) {
              $("#sidebar").addClass("active");
            }
          }
        }
        var x = window.matchMedia("(max-width: 739px)");
        x.addListener(myFunction);
        $("#sidebarCollapse").on("click", function () {
          $("#sidebar").toggleClass("active");
          $("#main-content").toggleClass("moved");
          $("#headerid").toggleClass("moved");
          $("#breadcrumb-nav").toggleClass("moved");
          $("#sidebarCollapse").toggleClass("moved");
          $("#sidebarCollapse").toggleClass("colored");
        });
      });
    </script>
  </body>
</html>
