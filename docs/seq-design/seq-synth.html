<!DOCTYPE html>
<html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  

  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

  <link rel="stylesheet" href="/assets/css/just-the-docs-default.css">

  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-112678513-3"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-112678513-3');
    </script>

  

  
    <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script>
  
  <script type="text/javascript" src="/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Sequential synthesis | CircuitVerse</title>
<meta name="generator" content="Jekyll v3.9.0">
<meta property="og:title" content="Sequential synthesis">
<meta property="og:locale" content="en_US">
<meta name="description" content="A Book to learn Digital Logic Design.">
<meta property="og:description" content="A Book to learn Digital Logic Design.">
<link rel="canonical" href="https://learn.circuitverse.org/docs/seq-design/seq-synth.html">
<meta property="og:url" content="https://learn.circuitverse.org/docs/seq-design/seq-synth.html">
<meta property="og:site_name" content="CircuitVerse">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="Sequential synthesis">
<script type="application/ld+json">
{"description":"A Book to learn Digital Logic Design.","@type":"WebPage","headline":"Sequential synthesis","url":"https://learn.circuitverse.org/docs/seq-design/seq-synth.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  <script defer src="/assets/js/fontawesome-solid.js"></script>
<script defer src="/assets/js/fontawesome-main.js"></script>
<script src="/assets/js/jquery-3.4.1.min.js"></script>
<script src="/assets/js/module.js"></script>
<script src="/assets/js/quiz.js"></script>
<script src="/assets/js/global_scripts.js"></script>

<script>MathJax={"tex":{"inlineMath":[["$","$"],["\\(","\\)"]],"displayMath":[["$$","$$"],["\\[","\\]"]],"tags":"ams"},"svg":{"fontCache":"global"},"svg":{"fontCache":"global"}}</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="svg-link" viewbox="0 0 24 24">
      <title>Link</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
      </svg>
    </symbol>
    <symbol id="svg-search" viewbox="0 0 24 24">
      <title>Search</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
        <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
    </symbol>
    <symbol id="svg-menu" viewbox="0 0 24 24">
      <title>Menu</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
        <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </symbol>
    <symbol id="svg-arrow-right" viewbox="0 0 24 24">
      <title>Expand</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </symbol>
    <symbol id="svg-doc" viewbox="0 0 24 24">
      <title>Document</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
        <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
      </svg>
    </symbol>
  </svg>

  <div class="side-bar">
    <div class="site-header">
      <a href="https://learn.circuitverse.org/" class="site-title lh-tight">
  CircuitVerse

</a>
      <a href="#" id="menu-button" class="site-button">
        <svg viewbox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
      </a>
    </div>
    <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav">
      
        <ul class="nav-list">
<li class="nav-list-item"><a href="https://learn.circuitverse.org/" class="nav-list-link">Home</a></li>
<li class="nav-list-item">
<a href="#" class="nav-list-expander"><svg viewbox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://learn.circuitverse.org/docs/binary-representation/" class="nav-list-link">Binary representation</a><ul class="nav-list ">
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/binary-representation/binary-numbers.html" class="nav-list-link">Binary numbers</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/binary-representation/negative-quantities.html" class="nav-list-link">Negative quantities</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/binary-representation/number-bases.html" class="nav-list-link">Number bases</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/binary-representation/encoding-information.html" class="nav-list-link">Encoding information</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/binary-representation/discrete-quantities.html" class="nav-list-link">Discrete quantities</a></li>
</ul>
</li>
<li class="nav-list-item">
<a href="#" class="nav-list-expander"><svg viewbox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://learn.circuitverse.org/docs/binary-algebra/" class="nav-list-link">Binary algebra</a><ul class="nav-list ">
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/binary-algebra/addition.html" class="nav-list-link">Addition</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/binary-algebra/subtraction.html" class="nav-list-link">Subtraction</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/binary-algebra/multiplication.html" class="nav-list-link">Multiplication</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/binary-algebra/division.html" class="nav-list-link">Division</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/binary-algebra/boolean-algebra.html" class="nav-list-link">Boolean algebra</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/binary-algebra/boolean-functions.html" class="nav-list-link">Boolean functions</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/binary-algebra/shannon.html" class="nav-list-link">Shannon decomposition</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/binary-algebra/ieee-std-754.html" class="nav-list-link">IEEE Std 754</a></li>
</ul>
</li>
<li class="nav-list-item">
<a href="#" class="nav-list-expander"><svg viewbox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://learn.circuitverse.org/docs/comb-ssi/" class="nav-list-link">Combinational SSI</a><ul class="nav-list ">
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/comb-ssi/logic-gates.html" class="nav-list-link">Logic gates</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/comb-ssi/logic-families.html" class="nav-list-link">Logic families</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/comb-ssi/universal-gates.html" class="nav-list-link">Universal gates</a></li>
</ul>
</li>
<li class="nav-list-item">
<a href="#" class="nav-list-expander"><svg viewbox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://learn.circuitverse.org/docs/logic-design/" class="nav-list-link">Logic Design</a><ul class="nav-list ">
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/logic-design/functional-description.html" class="nav-list-link">Functional description</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/logic-design/implementation.html" class="nav-list-link">Implementation</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/logic-design/canonical.html" class="nav-list-link">Canonical functions</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/logic-design/kmaps.html" class="nav-list-link">K-Maps</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/logic-design/mev.html" class="nav-list-link">Map-entered variables</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/logic-design/qmc.html" class="nav-list-link">Quine McCluskey</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/logic-design/binary-cubes.html" class="nav-list-link">Binary cubes</a></li>
</ul>
</li>
<li class="nav-list-item">
<a href="#" class="nav-list-expander"><svg viewbox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://learn.circuitverse.org/docs/comb-msi/" class="nav-list-link">Combinational MSI</a><ul class="nav-list ">
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/comb-msi/mux-demux.html" class="nav-list-link">MUX/DEMUX</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/comb-msi/encoders-decoders.html" class="nav-list-link">Encoders/Decoders</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/comb-msi/adders.html" class="nav-list-link">Adders</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/comb-msi/mux-functions.html" class="nav-list-link">MUX-based functions</a></li>
</ul>
</li>
<li class="nav-list-item">
<a href="#" class="nav-list-expander"><svg viewbox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://learn.circuitverse.org/docs/comb-lsi/" class="nav-list-link">Combinational LSI</a><ul class="nav-list ">
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/comb-lsi/rom.html" class="nav-list-link">ROM</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/comb-lsi/alu.html" class="nav-list-link">ALU</a></li>
</ul>
</li>
<li class="nav-list-item">
<a href="#" class="nav-list-expander"><svg viewbox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://learn.circuitverse.org/docs/seq-ssi/" class="nav-list-link">Sequential SSI</a><ul class="nav-list ">
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/seq-ssi/latches.html" class="nav-list-link">Latches</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/seq-ssi/flip-flops.html" class="nav-list-link">Flip-flops</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/seq-ssi/clock-signals.html" class="nav-list-link">Clock signals</a></li>
</ul>
</li>
<li class="nav-list-item active">
<a href="#" class="nav-list-expander"><svg viewbox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://learn.circuitverse.org/docs/seq-design/" class="nav-list-link">Sequential Design</a><ul class="nav-list ">
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/seq-design/fsm.html" class="nav-list-link">FSM</a></li>
<li class="nav-list-item  active"><a href="https://learn.circuitverse.org/docs/seq-design/seq-synth.html" class="nav-list-link active">Sequential synthesis</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/seq-design/race-conditions.html" class="nav-list-link">Race conditions</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/seq-design/flow-diagrams.html" class="nav-list-link">Flowchart diagrams</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/seq-design/mds.html" class="nav-list-link">MDS Diagrams</a></li>
</ul>
</li>
<li class="nav-list-item">
<a href="#" class="nav-list-expander"><svg viewbox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://learn.circuitverse.org/docs/seq-msi/" class="nav-list-link">Sequential MSI</a><ul class="nav-list ">
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/seq-msi/registers.html" class="nav-list-link">Registers</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/seq-msi/counters.html" class="nav-list-link">Counters</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/seq-msi/msi-seq-design.html" class="nav-list-link">MSI based design</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/seq-msi/mult-div.html" class="nav-list-link">Multipliers/Dividers</a></li>
</ul>
</li>
<li class="nav-list-item">
<a href="#" class="nav-list-expander"><svg viewbox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://learn.circuitverse.org/docs/seq-lsi/" class="nav-list-link">Sequential LSI</a><ul class="nav-list ">
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/seq-lsi/rom-microcontrollers.html" class="nav-list-link">ROM-based µcontrollers</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/seq-lsi/fpga.html" class="nav-list-link">FPGA</a></li>
<li class="nav-list-item "><a href="https://learn.circuitverse.org/docs/seq-lsi/microprocessors.html" class="nav-list-link">Microprocessors</a></li>
</ul>
</li>
<li class="nav-list-item"><a href="https://learn.circuitverse.org/contributing_guidelines.html" class="nav-list-link">Guidelines</a></li>
<li class="nav-list-item"><a href="https://learn.circuitverse.org/about.html" class="nav-list-link">About</a></li>
</ul>

      
    </nav>
    <footer class="site-footer">
      This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.
    </footer>
  </div>
  <div class="main" id="top">
    <div id="main-header" class="main-header">
      
        <div class="search">
          <div class="search-input-wrap">
            <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search CircuitVerse" aria-label="Search CircuitVerse" autocomplete="off">
            <label for="search-input" class="search-label"><svg viewbox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
          </div>
          <div id="search-results" class="search-results"></div>
        </div>
      
      
      
        <nav aria-label="Auxiliary" class="aux-nav">
          <ul class="aux-nav-list">
            
              <li class="aux-nav-list-item">
                <a href="#" class="site-button">
                  Dark mode
                </a>
              </li>
            
              <li class="aux-nav-list-item">
                <a href="//github.com/CircuitVerse" class="site-button">
                  CircuitVerse on GitHub
                </a>
              </li>
            
          </ul>
        </nav>
      
    </div>
    <div id="main-content-wrap" class="main-content-wrap">
      
        <nav aria-label="Breadcrumb" class="breadcrumb-nav">
            <ol class="breadcrumb-nav-list">
              
                <li class="breadcrumb-nav-list-item"><a href="https://learn.circuitverse.org/docs/seq-design/">Sequential Design</a></li>
              
              <li class="breadcrumb-nav-list-item"><span>Sequential synthesis</span></li>
            </ol>
          </nav>
        
      
      <div id="main-content" class="main-content" role="main">
        
          <div id="progress-bar"></div>
<script type="text/javascript">

	// [Critical Content]
	// Load State for Sidebar Functionality
	var sidebar = document.querySelector("div.side-bar");
	var mainContent = document.getElementById("top");
	var isSidebar = localStorage.getItem('Sidebar');
	
	if (isSidebar == null) {
		sidebar.classList.remove('active');
		mainContent.classList.remove('sidebar-toggle');
	}
	else if (isSidebar == 0) {
		isSidebar = 0;
		localStorage.setItem('Sidebar', isSidebar);
		sidebar.classList.add('active');
		mainContent.classList.add('sidebar-toggle');
	}
	else {
		sidebar.classList.remove('active');
		mainContent.classList.remove('sidebar-toggle');
	}

	// Wait for the page to load first
	$(document).ready(function () {
		var sidebarButton = document.getElementById("sidebarCollapse");
		sidebarButton.onclick = function () {
			if (isSidebar == 0) {
				isSidebar = 1;
				localStorage.setItem('Sidebar', isSidebar);
				sidebar.classList.toggle("active");
				mainContent.classList.toggle("sidebar-toggle");
			}
			else {
				isSidebar = 0;
				localStorage.setItem('Sidebar', isSidebar);
				sidebar.classList.toggle("active");
				mainContent.classList.toggle("sidebar-toggle");
			}
		}
	})

	// Progress-bar 
	const progress_bar = document.querySelector('#progress-bar')
	const main_content= document.querySelector('#main-content-wrap')

	const animateProgressBar = () => {
		let scrollDistance = -main_content.getBoundingClientRect().top;
		let progressWidth = (scrollDistance / (main_content.getBoundingClientRect().height - document.documentElement.clientHeight ) )*100;
		if(progressWidth<6){
			progress_bar.style.width = 0 + '%';
		}
		else{
			progress_bar.style.width = progressWidth + '%';
		}
	}
	window.addEventListener('scroll',animateProgressBar);
</script>

<!-- -*- engine:django -*- -->	
<div id="content">
    <nav class="navbar navbar-expand-lg navbar-light bg-light container-fluid">
        <button type="button" id="sidebarCollapse" class="btn btn-info new mr-3">
            <i class="fas fa-align-left"></i>
            <span>Sidebar</span>
        </button>
        <div class="prev-next-controls">
            <div><a href="https://learn.circuitverse.org/docs/seq-design/fsm.html" class="btn btn-info">Previous</a></div>
            <div><a href="https://learn.circuitverse.org/docs/seq-design/race-conditions.html" class="btn btn-info">Next</a></div>
        </div>
    </nav>
</div>
      <h1 class="no_toc" id="sequential-synthesis">
        
        
          <a href="#sequential-synthesis" class="anchor-heading" aria-labelledby="sequential-synthesis"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Sequential synthesis
        
        
      </h1>
    
      <h2 class="no_toc text-delta" id="table-of-contents">
        
        
          <a href="#table-of-contents" class="anchor-heading" aria-labelledby="table-of-contents"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of contents
        
        
      </h2>
    

<ol id="markdown-toc">
  <li><a href="#introduction" id="markdown-toc-introduction">Introduction</a></li>
  <li><a href="#sequential-synthesis-process" id="markdown-toc-sequential-synthesis-process">Sequential synthesis process</a></li>
  <li>
<a href="#interactive-example" id="markdown-toc-interactive-example">Interactive example</a>    <ol>
      <li><a href="#functional-description" id="markdown-toc-functional-description">Functional description</a></li>
      <li><a href="#state-assignment" id="markdown-toc-state-assignment">State assignment</a></li>
      <li><a href="#combinational-synthesis" id="markdown-toc-combinational-synthesis">Combinational synthesis</a></li>
    </ol>
  </li>
</ol>
<hr>
      <h2 id="introduction">
        
        
          <a href="#introduction" class="anchor-heading" aria-labelledby="introduction"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Introduction
        
        
      </h2>
    

<p>As presented in section <a href="/docs/seq-design/fsm.html">FSM</a> any sequential circuit can be modelled using Finite State Machines (FSM) or, viceversa, any FSM can be implemented in a sequential circuit.</p>

<p>The process to obtain such a circuit from its functional description or model is referred to as <em>sequential synthesis</em>.</p>
      <h2 id="sequential-synthesis-process">
        
        
          <a href="#sequential-synthesis-process" class="anchor-heading" aria-labelledby="sequential-synthesis-process"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Sequential synthesis process
        
        
      </h2>
    

<p>Every sequential circuit can also be represented by the following general model:</p>

<p><img src="/assets/images/seq/seq-general-model.svg" alt="Sequential Circuit General Model"></p>

<p>The first step in the synthesis process is to state the <em>functional description</em> of the system in terms of a FSM. The state machine can be formally represented by state diagrams or state tables.</p>

<p>The number of state variables $(r)$ is directly related to the number of states which can represented by those state variables $(2^r)$. Also, the number of components or their size is related to the number of state variables. On the other hand, the devised FSM might contain redundant states. Therefore, in order to obtain an optimal circuit (in terms of the number of components and number of feedback connections) it is desirable to reduce the number of states by eliminating unnecesary ones. This is the second step in the process.</p>

<p>To represent the state with the binary state variables, a binary code must be assigned to each state. A careful selection of the state codes can help in a later stage to minimise the number of components in the combinational logic block.</p>

<p>The memory block can be implemented using any of the basic sequential building blocks (latches or flip-flops) or even simple delay lines. Once the type of memory components is decided, it is possible to declare the truth table for the combinational logic block whose inputs are the (external) inputs of the system and the state variables (or internal inputs), while the outputs correspond to the (external) outputs as well as the excitation variables, which will produce the next state by means of the memory block.</p>

<p>Finding the optimal combinational logic circuit is the final step in the process.</p>
      <h2 id="interactive-example">
        
        
          <a href="#interactive-example" class="anchor-heading" aria-labelledby="interactive-example"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Interactive example
        
        
      </h2>
    

<p>A typical example of a complex synchronous sequential system is the system controller of a vending machine.</p>
      <h3 id="functional-description">
        
        
          <a href="#functional-description" class="anchor-heading" aria-labelledby="functional-description"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Functional description
        
        
      </h3>
    

<p>Let’s consider the following simplified block diagram representing the vending machine:</p>

<p><img src="/assets/images/seq/vm_blocks.svg" alt="Vending Machine Block Diagram"></p>

<p>The digital system controller has to interact with the three devices:</p>

<ul>
  <li>Coin Receiver</li>
  <li>Coin Return</li>
  <li>Pop Drop</li>
</ul>

<p>The <em>coin receiver</em> has four (4) output signals which will be inputs for the system controller and two (2) signals in the other direction:</p>

<ul>
  <li>
<strong>CP:</strong> (<em>Coin Present</em>) output signal becomes <strong>high</strong> (or true) when a coin is inserted and being processed and goes back to <strong>low</strong> value when it finishes processing the coin.</li>
  <li>
<strong>S&lt;:</strong> (<em>Total amount is less than product’s price</em>) output signal becomes high if the amount of deposited coins is less than the product’s price.</li>
  <li>
<strong>S=:</strong> (<em>Total amount is equal to the product’s price</em>) output signal becomes high if the deposited amount is equal to the product’s price.</li>
  <li>
<strong>S&gt;:</strong> (<em>Total amount is greater than product’s price</em>) output signal becomes high if the amount exceeds the product’s price.</li>
  <li>
<strong>DA:</strong> (<em>Decrement Accumulator</em>) signal from the controller instructs the coin receiver to subtract the amount returned by the <em>coin return</em> device from the total sum and update the <strong>Sx</strong> signals.</li>
  <li>
<strong>CA:</strong> (<em>Clear Accumulator</em>) signal from the controller tells the coin receiver to clear the total amount.</li>
</ul>

<p>The <em>coin return</em> device has two (2) signal connected to the system controller one on each direction:</p>

<ul>
  <li>
<strong>RN:</strong> (<em>Return Nickel</em>) signal to the device triggers the return of a change (as long as <strong>S&gt;</strong> is high).</li>
  <li>
<strong>CR:</strong> (<em>Changer Ready</em>) signal from the device indicates the controller that the it has finished returning a coin.</li>
</ul>

<p>The <em>pop drop</em> device has also two (2) signals connected to the system controller one on each direction:</p>

<ul>
  <li>
<strong>DP:</strong> (<em>Drop Pop</em>) signal from the controller instructs the device to start the process of delivering the product.</li>
  <li>
<strong>PDR:</strong> (<em>Pop Drop Ready</em>) signal to the controller informs when the product has been delivered.</li>
</ul>

<p>The Finite State Machine (FSM) which models the process can be described by the following state diagram (note that the state codes have already been assigned, see the explanation in <a href="#state-assignment">State assignment</a>:</p>

<p><img src="/assets/images/seq/vm_fsm.svg" alt="Vending Machine FSM"></p>

<p>The initial state (a) waits a for a coin to be inserted, when that happens the machine transitions to state (b) and waits until the coin is processed by the <em>coin receiver</em> and then moves to state (c). In state (c) the total amount is checked: if it is still not enough it goes back to state (a) to wait for more coins to be inserted. If it is equal to the price of the product the machine gets to state (d) which triggers signal <strong>DP</strong> to release the product and waits until de <em>pop drop</em> device informs the process is finished by asserting the <strong>PDR</strong> signal. At this moment, the machine state becomes (e) which sends the <strong>CA</strong> signal to clear the total sum in the <em>coin receiver</em> and then goes back to the initial state (a). On the other hand, while at state (c), if total amount is greater than the price then the machine enters state (f) which sets signal <strong>RN</strong> to high in order to tell the <em>coin return</em> to return a fixed amount. When it is done, the <em>coin return</em> responds by sending a true value back to the controller using signal <strong>CR</strong>. When this happens the machine moves on to state (g) which activates signal <strong>DA</strong> to the <em>coin receiver</em> to update the total amount and changes back to state (c) to check the new amount.</p>
      <h3 id="state-assignment">
        
        
          <a href="#state-assignment" class="anchor-heading" aria-labelledby="state-assignment"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> State assignment
        
        
      </h3>
    

<p>Given the FSM state diagram the following conditions regarding state codes should be considered:</p>

<ul>
  <li>(a) should be adjacent to (b)</li>
  <li>(b) should be adjacent to (c)</li>
  <li>(d) should be adjacent to (e)</li>
  <li>(f) should be adjacent to (g)</li>
</ul>

<p>The following state map takes all considerations into account:</p>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th style="text-align: center"> </th>
      <th style="text-align: center" colspan="4">AB</th>
      
      
      
    </tr>
    <tr>
      <th style="text-align: center">C</th>
      <th style="text-align: center">00</th>
      <th style="text-align: center">01</th>
      <th style="text-align: center">11</th>
      <th style="text-align: center">10</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">a</td>
      <td style="text-align: center">$\phi$</td>
      <td style="text-align: center">d</td>
      <td style="text-align: center">f</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">b</td>
      <td style="text-align: center">c</td>
      <td style="text-align: center">e</td>
      <td style="text-align: center">g</td>
    </tr>
  </tbody>
</table></div>
      <h3 id="combinational-synthesis">
        
        
          <a href="#combinational-synthesis" class="anchor-heading" aria-labelledby="combinational-synthesis"><svg viewbox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Combinational synthesis
        
        
      </h3>
    

<p>Given the state codes the output decoder can be represented by the following map:</p>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th style="text-align: center"> </th>
      <th style="text-align: center" colspan="4">AB</th>
      
      
      
    </tr>
    <tr>
      <th style="text-align: center">C</th>
      <th style="text-align: center">00</th>
      <th style="text-align: center">01</th>
      <th style="text-align: center">11</th>
      <th style="text-align: center">10</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center">DP</td>
      <td style="text-align: center">RN</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center"> </td>
      <td style="text-align: center"> </td>
      <td style="text-align: center">CA</td>
      <td style="text-align: center">DA</td>
    </tr>
  </tbody>
</table></div>

<p>By selecting JK Flip-flops as the memory elements the following maps represent the next state decoder:</p>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th style="text-align: center">$J_A$</th>
      <th style="text-align: center" colspan="4">AB</th>
      
      
      
    </tr>
    <tr>
      <th style="text-align: center">C</th>
      <th style="text-align: center">00</th>
      <th style="text-align: center">01</th>
      <th style="text-align: center">11</th>
      <th style="text-align: center">10</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">$\phi$</td>
      <td style="text-align: center">$\phi$</td>
      <td style="text-align: center">$\phi$</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">S=+S&gt;</td>
      <td style="text-align: center">$\phi$</td>
      <td style="text-align: center">$\phi$</td>
    </tr>
  </tbody>
</table></div>

<p>$J_A = B(\text{S= + S&gt;})$</p>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th style="text-align: center">$K_A$</th>
      <th style="text-align: center" colspan="4">AB</th>
      
      
      
    </tr>
    <tr>
      <th style="text-align: center">C</th>
      <th style="text-align: center">00</th>
      <th style="text-align: center">01</th>
      <th style="text-align: center">11</th>
      <th style="text-align: center">10</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">$\phi$</td>
      <td style="text-align: center">$\phi$</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">0</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">$\phi$</td>
      <td style="text-align: center">$\phi$</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">1</td>
    </tr>
  </tbody>
</table></div>

<p>$K_A = C$</p>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th style="text-align: center">$J_B$</th>
      <th style="text-align: center" colspan="4">AB</th>
      
      
      
    </tr>
    <tr>
      <th style="text-align: center">c</th>
      <th style="text-align: center">00</th>
      <th style="text-align: center">01</th>
      <th style="text-align: center">11</th>
      <th style="text-align: center">10</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">$\phi$</td>
      <td style="text-align: center">$\phi$</td>
      <td style="text-align: center">0</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">$\overline{CP}$</td>
      <td style="text-align: center">$\phi$</td>
      <td style="text-align: center">$\phi$</td>
      <td style="text-align: center">1</td>
    </tr>
  </tbody>
</table></div>

<p>$J_B = C(\overline{CP})+ AC$</p>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th style="text-align: center">$K_B$</th>
      <th style="text-align: center" colspan="4">AB</th>
      
      
      
    </tr>
    <tr>
      <th style="text-align: center">C</th>
      <th style="text-align: center">00</th>
      <th style="text-align: center">01</th>
      <th style="text-align: center">11</th>
      <th style="text-align: center">10</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">$\phi$</td>
      <td style="text-align: center">$\phi$</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">$\phi$</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">$\phi$</td>
      <td style="text-align: center">$\overline{\text{S=}}$</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">$\phi$</td>
    </tr>
  </tbody>
</table></div>

<p>$K_B = C(\overline{\text{S=}}) + AC$</p>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th style="text-align: center">$J_C$</th>
      <th style="text-align: center" colspan="4">AB</th>
      
      
      
    </tr>
    <tr>
      <th style="text-align: center">C</th>
      <th style="text-align: center">00</th>
      <th style="text-align: center">01</th>
      <th style="text-align: center">11</th>
      <th style="text-align: center">10</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">CP</td>
      <td style="text-align: center">$\phi$</td>
      <td style="text-align: center">PDR</td>
      <td style="text-align: center">CR</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">$\phi$</td>
      <td style="text-align: center">$\phi$</td>
      <td style="text-align: center">$\phi$</td>
      <td style="text-align: center">$\phi$</td>
    </tr>
  </tbody>
</table></div>

<p>$J_C = A(CP) + B(PDR) + A\overline{B}(CR)$</p>

<div class="table-wrapper"><table>
  <thead>
    <tr>
      <th style="text-align: center">$K_C$</th>
      <th style="text-align: center" colspan="4">AB</th>
      
      
      
    </tr>
    <tr>
      <th style="text-align: center">C</th>
      <th style="text-align: center">00</th>
      <th style="text-align: center">01</th>
      <th style="text-align: center">11</th>
      <th style="text-align: center">10</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">$\phi$</td>
      <td style="text-align: center">$\phi$</td>
      <td style="text-align: center">$\phi$</td>
      <td style="text-align: center">$\phi$</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">0</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">0</td>
    </tr>
  </tbody>
</table></div>

<p>$K_C = B$</p>

<p>The circuit which implements such a machine is the following:</p>

<iframe width="100%" height="400px" src="https://circuitverse.org/simulator/embed/vending_machine_ssi" id="projectPreview" scrolling="no" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe>


<div class="prev-next-controls mt-3">
  <div><a href="https://learn.circuitverse.org/docs/seq-design/fsm.html" class="btn btn-info">Previous</a></div>
  <div><a href="https://learn.circuitverse.org/docs/seq-design/race-conditions.html" class="btn btn-info">Next</a></div>
</div>

<!-- -*- engine:django -*- -->

<div id="disqus_thread" style="margin-top:75px"></div>
<script>
     
  /**
  *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
  *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
  /*
  var disqus_config = function () {
  this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
  this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
  };
  */
  (function() { // DON'T EDIT BELOW THIS LINE
  var d = document, s = d.createElement('script');
  s.src = 'https://interactive-book.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>



<div>
    <button type="button" id="back-to-top" class="btn btn-info new back-to-top">
        <i class="fas fa-angle-up"></i>
    </button>
</div>
<script>
    backToTop_Button = document.getElementById("back-to-top");
    window.onscroll = () =>{
        if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            backToTop_Button.style.display = "block";
        } else {
            backToTop_Button.style.display = "none";
        }
    }
    backToTop_Button.addEventListener("click", ()=>{
        document.body.scrollTop = 0;
        document.documentElement.scrollTop = 0;
    })
</script>

        

        

        
        
          <hr>
          <footer>
            

            <p class="text-small text-grey-dk-100 mb-0">Copyright © 2023 Contributors to CircuitVerse. Distributed under a [CC-by-sa] license.</p>

            
              <div class="d-flex mt-2">
                
                
                  <p class="text-small text-grey-dk-000 mb-0">
                    <a href="https://github.com/CircuitVerse/Interactive-Book/tree/master/docs/seq-design/seq-synth.md" id="edit-this-page">Edit this page on GitHub.</a>
                  </p>
                
              </div>
            
          </footer>
        

      </div>
    </div>

    
      

      <div class="search-overlay"></div>
    
  </div>
</body>
</html>
